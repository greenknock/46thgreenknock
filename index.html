<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>THE 46th GREEN KNOCK</title>
  <meta name="description" content="THE 46th GREEN KNOCK - A psychological mystery thriller" />
  <link href="https://fonts.googleapis.com/css2?family=Merriweather&display=swap" rel="stylesheet">

  <style>
    body {
      margin: 0;
      font-family: 'Merriweather', serif;
      background-color: #000;
      color: #fff;
      text-align: center;
    }

    /* ✅ Navigation Bar */
    .navbar {
      display: flex;
      justify-content: center;
      padding: 1rem;
      background-color: #111;
      border-bottom: 1px solid #333;
      position: sticky;
      top: 0;
      z-index: 1000;
    }
    .nav-links {
      display: flex;
      gap: 3rem;
    }
    .nav-links a {
      color: #90caf9;
      text-decoration: none;
      font-weight: bold;
      font-size: 1.4rem;
      transition: color 0.3s ease, text-shadow 0.3s ease;
    }
    .nav-links a:hover {
      color: #81c784;
      text-shadow: 0 0 10px #81c784, 0 0 20px #81c784;
    }

    /* ✅ Main Content */
    .container {
      margin-top: 3rem;
      opacity: 0;
      animation: fadeIn 1.5s forwards;
    }
    @keyframes fadeIn {
      to { opacity: 1; }
    }

    .book-cover {
      width: 450px;
      max-width: 90vw;
      border-radius: 8px;
      box-shadow: 0 0 25px rgba(0, 255, 0, 0.6);
      transition: transform 0.4s ease, box-shadow 0.4s ease;
    }
    .book-cover:hover {
      transform: scale(1.05);
      box-shadow: 0 0 50px rgba(0, 255, 0, 0.8), 0 0 100px rgba(0, 255, 0, 0.6);
    }

    .title {
      font-size: 2.6rem;
      color: #81c784;
      margin: 1rem 0 0.5rem;
      opacity: 0;
      animation: fadeIn 2s forwards 0.5s;
    }

    .subtitle {
      font-size: 1.3rem;
      color: #ccc;
      margin: 0;
    }

    /* ✅ Mute Button */
    .mute-btn {
      position: fixed;
      bottom: 20px;
      right: 20px;
      background: #111;
      color: #81c784;
      border: 2px solid #81c784;
      padding: 10px 15px;
      font-size: 1rem;
      cursor: pointer;
      border-radius: 8px;
      transition: 0.3s ease;
      z-index: 2000;
    }
    .mute-btn:hover {
      background: #81c784;
      color: #111;
      box-shadow: 0 0 15px #81c784;
    }

    @media (max-width: 700px) {
      .nav-links {
        flex-direction: column;
        gap: 1rem;
      }
      .book-cover {
        width: 90%;
      }
      .subtitle {
        font-size: 1rem;
      }
    }
  </style>
</head>
<body>
  <!-- ✅ Background Music -->
  <audio id="bgMusic" autoplay loop>
    <source src="dark-music.mp3.mp3" type="audio/mpeg">
  </audio>

  <!-- ✅ Top Navigation Bar -->
  <header class="navbar">
    <nav class="nav-links">
      <a href="chapters.html">Read Chapters</a>
      <a href="review.html">Leave a Review</a>
      <a href="about.html">About Book</a>
      <a href="update_bar.html">Updates</a>
    </nav>
  </header>

  <!-- ✅ Main Content -->
  <div class="container">
    <img src="book cover.png" alt="Book Cover" class="book-cover">
    <h2 class="title">THE 46th GREEN KNOCK</h2>
    <p class="subtitle">A psychological mystery thriller</p>
  </div>

  <!-- ✅ Mute/Unmute Button -->
  <button class="mute-btn" onclick="toggleMute()">Mute</button>

  <script>
    const bgMusic = document.getElementById('bgMusic');
    const muteBtn = document.querySelector('.mute-btn');

    // ✅ Start with volume at 0
    bgMusic.volume = 0;

    // ✅ Try autoplay and fade in volume
    bgMusic.play().then(() => {
      fadeInVolume();
    }).catch(() => {
      // Autoplay blocked → enable click-to-play
      document.body.addEventListener('click', () => {
        bgMusic.play();
        fadeInVolume();
      }, { once: true });
    });

    // ✅ Fade-in effect (2 seconds to reach 0.4)
    function fadeInVolume() {
      let volume = 0;
      const fade = setInterval(() => {
        if (volume < 0.4) {
          volume += 0.02; // Faster fade
          bgMusic.volume = volume;
        } else {
          clearInterval(fade);
        }
      }, 100);
    }

    // ✅ Mute/Unmute Toggle
    function toggleMute() {
      if (bgMusic.muted) {
        bgMusic.muted = false;
        muteBtn.textContent = 'Mute';
      } else {
        bgMusic.muted = true;
        muteBtn.textContent = 'Unmute';
      }
    }
  </script>
</body>
</html>
